[
  {
    "path": "post2022/2022-03-07-aboutreticulate/",
    "title": "Not just 'R or Python' but 'R and Python'!",
    "description": "Interoperability between R and Python is too powerful!",
    "author": [
      {
        "name": "Sanjay Hamal",
        "url": {}
      }
    ],
    "date": "2022-03-07",
    "categories": [
      "R",
      "Python"
    ],
    "contents": "\r\n\r\nContents\r\nWhat is reticulate?\r\nInstallation and setup for this demo\r\nLoading library and setting conda.\r\nUsing python code to import a csv file.\r\nAdding a new column in dataframe.\r\nConverting dataframes in python to R\r\nSource Python code or File\r\nConvert dataframe in R to Python dataframe.\r\nInteractive graph in R with python dataframe\r\n\r\n\r\nBefore going through this article, you should have some basic knowledge of R programming, Python programming(Pandas), R Studio and R markdown.\r\n\r\nThere is always a perennial debate on which programming language is better. Both languages, R and Python, have their own communities and support groups. None of them are wrong. Both R and Python languages have their own pros and cons and each language is better suited for different scenarios. Rather than debating on which language is better, in my opinion, we should try to incorporate both languages in our work. And Reticulate package in R helps to incorporate Python codes in R. Similar kinds of libraries(rpy2) are available in Python to incorporate R codes in Python.\r\nThe goal of this article is to get you started with the basic interaction between R and Python dataframes using Rmarkdown and Reticulate package. In this article, we are going to cover the following things.\r\nWhat is reticulate?\r\nInstallation and setup for this demo\r\nLoading library and setting conda\r\nUsing python code to import a csv file\r\nAdding a new column in dataframe\r\nSource Python code or File\r\nConvert dataframe in R to Python dataframe\r\nInteractive graphs in R with python dataframe\r\nWhat is reticulate?\r\nReticulate is an R package that can assist us to interact between R and Python. It is a bridge between R and Python.\r\nInstallation and setup for this demo\r\nLet’s get started. Firstly, you need to install Reticulate package (Installation and setup)and then install Pandas (Installing python packages) for this short demo.\r\nIn your console, execute:\r\ninstall.packages(“reticulate”) and then\r\nreticulate::conda_install(“r-reticulate”, “pandas”)\r\n\r\nRmarkdown can execute both R and Python codes. You can write both R and Python codes in their respective code chunks:\r\n\r\n\r\nLoading library and setting conda.\r\nLets load the library(reticulate) and set the path to a ‘conda’ executable. In this case, appropriate ‘conda’ is automatically set. To know more, execute ?reticulate and ?conda_python in your R console.\r\n\r\n#R code\r\n\r\nlibrary(reticulate) #<<\r\nconda_python()      #<<\r\n[1] \"C:\\\\Users\\\\Sanjay\\\\AppData\\\\Local\\\\r-miniconda\\\\envs\\\\r-reticulate\\\\python.exe\"\r\n\r\nIt by default sets the version of Python found on your path. But you can also set the path to your desired python version.\r\nUsing python code to import a csv file.\r\nCopy the path in the link cars.csv to provide path to your csv file.\r\n\r\n#Python code\r\n\r\nimport pandas as pd\r\ncar_python = pd.read_csv(\"cars.csv\")\r\ncar_python.head(n=10)\r\n   speed  dist\r\n0      4     2\r\n1      4    10\r\n2      7     4\r\n3      7    22\r\n4      8    16\r\n5      9    10\r\n6     10    18\r\n7     10    26\r\n8     10    34\r\n9     11    17\r\n\r\nAdding a new column in dataframe.\r\n\r\nLet’s add a new column->“Speed_category” in our dataframe using pandas. - If the speed is less than 10 and greater than zero, label it as “Low speed”. - If the speed is between 10 and 20, label it as “Medium speed” - Label the rest as “High speed”. We will use this column later to create a 3D graph.\r\n\r\n\r\n\r\n#Python code\r\n\r\ncar_python[\"Speed_category\"]= \"\"\r\n\r\nfor i in range(len(car_python)):\r\n  if car_python.loc[i, \"speed\"]>0 and car_python.loc[i,\"speed\"]<=10:\r\n    car_python.loc[i, \"Speed_category\"]= \"Low speed\"\r\n  elif car_python.loc[i, \"speed\"]>10 and car_python.loc[i, \"speed\"]<20:\r\n    car_python.loc[i, \"Speed_category\"]= \"Medium speed\"  \r\n  else:\r\n    car_python.loc[i, \"Speed_category\"]= \"High speed\"\r\n\r\ncar_python.head(n=10)\r\n   speed  dist Speed_category\r\n0      4     2      Low speed\r\n1      4    10      Low speed\r\n2      7     4      Low speed\r\n3      7    22      Low speed\r\n4      8    16      Low speed\r\n5      9    10      Low speed\r\n6     10    18      Low speed\r\n7     10    26      Low speed\r\n8     10    34      Low speed\r\n9     11    17   Medium speed\r\n\r\nConverting dataframes in python to R\r\n\r\nUse py$:\r\n\r\nHere, car_python is a variable in python that stores a dataframe, which in the code below, is used by R and stored as a dataframe in an R variable, R_cars.\r\n\r\n#R code\r\n\r\nR_cars<- py$car_python \r\n\r\nhead(R_cars, n=4)\r\n  speed dist Speed_category\r\n1     4    2      Low speed\r\n2     4   10      Low speed\r\n3     7    4      Low speed\r\n4     7   22      Low speed\r\n\r\nSource Python code or File\r\nA python file, time.py contains the following python function to convert speed and distance to time. Download it. In the next step, we will see how to use the time(dist, speed) function from “time.py” file to our R code :\r\n\r\n# time.py \r\ndef time(DIST, SPEED):\r\n  return DIST/SPEED\r\n\r\n\r\nUse source_python(“Path to your python file”) and use the python functions directly to your R code.\r\n\r\n\r\n#R code\r\n\r\nsource_python(\"time.py\")\r\n\r\nfor(i in seq(nrow(R_cars))){\r\n  \r\n  R_cars[i, \"Time\"]= \r\n    time(R_cars[i, \"dist\"], R_cars[i, \"speed\"])\r\n  \r\n}\r\n\r\nhead(R_cars)\r\n  speed dist Speed_category      Time\r\n1     4    2      Low speed 0.5000000\r\n2     4   10      Low speed 2.5000000\r\n3     7    4      Low speed 0.5714286\r\n4     7   22      Low speed 3.1428571\r\n5     8   16      Low speed 2.0000000\r\n6     9   10      Low speed 1.1111111\r\n\r\nConvert dataframe in R to Python dataframe.\r\n\r\nUse ‘r.’ .\r\n\r\nIn the code below, R_cars is a variable in R which is called in a python code and converted to python dataframe and stored in a variable, python_cars2.\r\n\r\n#Python code\r\n\r\npython_cars2 = r.R_cars   \r\n\r\npython_cars2.head(n=5)\r\n   speed  dist Speed_category      Time\r\n0    4.0   2.0      Low speed  0.500000\r\n1    4.0  10.0      Low speed  2.500000\r\n2    7.0   4.0      Low speed  0.571429\r\n3    7.0  22.0      Low speed  3.142857\r\n4    8.0  16.0      Low speed  2.000000\r\n\r\nInteractive graph in R with python dataframe\r\n\r\nHere, we are creating a scatter plot, line plot and a regression plot combined using a python dataframe,“python_cars2” in R code. -ggplot creates visually appealing graphs in R and ggplotly() function converts ggplot graphs to interactive ones.\r\n\r\n\r\n#R code\r\n\r\nlibrary(ggplot2)\r\nlibrary(plotly)\r\n\r\nmy_plt<- ggplot(data = py$python_cars2,\r\n                aes(speed, dist))+\r\n  geom_point(aes( color= Speed_category, shape= Speed_category))+\r\n  geom_line(color= 'orange', alpha=0.5, linetype='dashed')+\r\n  geom_smooth(se= F, color='red')\r\n\r\n\r\n\r\nmy_plt %>% ggplotly()\r\n\r\n{\"x\":{\"data\":[{\"x\":[20,20,20,20,20,22,23,24,24,24,24,25],\"y\":[32,48,52,56,64,66,54,70,92,93,120,85],\"text\":[\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 20<br />dist:  32\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 20<br />dist:  48\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 20<br />dist:  52\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 20<br />dist:  56\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 20<br />dist:  64\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 22<br />dist:  66\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 23<br />dist:  54\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 24<br />dist:  70\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 24<br />dist:  92\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 24<br />dist:  93\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 24<br />dist: 120\",\"Speed_category: High speed<br />Speed_category: High speed<br />speed: 25<br />dist:  85\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(248,118,109,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(248,118,109,1)\"}},\"hoveron\":\"points\",\"name\":\"High speed\",\"legendgroup\":\"High speed\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[4,4,7,7,8,9,10,10,10],\"y\":[2,10,4,22,16,10,18,26,34],\"text\":[\"Speed_category: Low speed<br />Speed_category: Low speed<br />speed:  4<br />dist:   2\",\"Speed_category: Low speed<br />Speed_category: Low speed<br />speed:  4<br />dist:  10\",\"Speed_category: Low speed<br />Speed_category: Low speed<br />speed:  7<br />dist:   4\",\"Speed_category: Low speed<br />Speed_category: Low speed<br />speed:  7<br />dist:  22\",\"Speed_category: Low speed<br />Speed_category: Low speed<br />speed:  8<br />dist:  16\",\"Speed_category: Low speed<br />Speed_category: Low speed<br />speed:  9<br />dist:  10\",\"Speed_category: Low speed<br />Speed_category: Low speed<br />speed: 10<br />dist:  18\",\"Speed_category: Low speed<br />Speed_category: Low speed<br />speed: 10<br />dist:  26\",\"Speed_category: Low speed<br />Speed_category: Low speed<br />speed: 10<br />dist:  34\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,186,56,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"triangle-up\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,186,56,1)\"}},\"hoveron\":\"points\",\"name\":\"Low speed\",\"legendgroup\":\"Low speed\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,16,16,17,17,17,18,18,18,18,19,19,19],\"y\":[17,28,14,20,24,28,26,34,34,46,26,36,60,80,20,26,54,32,40,32,40,50,42,56,76,84,36,46,68],\"text\":[\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 11<br />dist:  17\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 11<br />dist:  28\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 12<br />dist:  14\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 12<br />dist:  20\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 12<br />dist:  24\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 12<br />dist:  28\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 13<br />dist:  26\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 13<br />dist:  34\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 13<br />dist:  34\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 13<br />dist:  46\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 14<br />dist:  26\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 14<br />dist:  36\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 14<br />dist:  60\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 14<br />dist:  80\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 15<br />dist:  20\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 15<br />dist:  26\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 15<br />dist:  54\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 16<br />dist:  32\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 16<br />dist:  40\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 17<br />dist:  32\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 17<br />dist:  40\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 17<br />dist:  50\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 18<br />dist:  42\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 18<br />dist:  56\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 18<br />dist:  76\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 18<br />dist:  84\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 19<br />dist:  36\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 19<br />dist:  46\",\"Speed_category: Medium speed<br />Speed_category: Medium speed<br />speed: 19<br />dist:  68\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(97,156,255,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"square\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(97,156,255,1)\"}},\"hoveron\":\"points\",\"name\":\"Medium speed\",\"legendgroup\":\"Medium speed\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[4,4,7,7,8,9,10,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,16,16,17,17,17,18,18,18,18,19,19,19,20,20,20,20,20,22,23,24,24,24,24,25],\"y\":[2,10,4,22,16,10,18,26,34,17,28,14,20,24,28,26,34,34,46,26,36,60,80,20,26,54,32,40,32,40,50,42,56,76,84,36,46,68,32,48,52,56,64,66,54,70,92,93,120,85],\"text\":[\"speed:  4<br />dist:   2\",\"speed:  4<br />dist:  10\",\"speed:  7<br />dist:   4\",\"speed:  7<br />dist:  22\",\"speed:  8<br />dist:  16\",\"speed:  9<br />dist:  10\",\"speed: 10<br />dist:  18\",\"speed: 10<br />dist:  26\",\"speed: 10<br />dist:  34\",\"speed: 11<br />dist:  17\",\"speed: 11<br />dist:  28\",\"speed: 12<br />dist:  14\",\"speed: 12<br />dist:  20\",\"speed: 12<br />dist:  24\",\"speed: 12<br />dist:  28\",\"speed: 13<br />dist:  26\",\"speed: 13<br />dist:  34\",\"speed: 13<br />dist:  34\",\"speed: 13<br />dist:  46\",\"speed: 14<br />dist:  26\",\"speed: 14<br />dist:  36\",\"speed: 14<br />dist:  60\",\"speed: 14<br />dist:  80\",\"speed: 15<br />dist:  20\",\"speed: 15<br />dist:  26\",\"speed: 15<br />dist:  54\",\"speed: 16<br />dist:  32\",\"speed: 16<br />dist:  40\",\"speed: 17<br />dist:  32\",\"speed: 17<br />dist:  40\",\"speed: 17<br />dist:  50\",\"speed: 18<br />dist:  42\",\"speed: 18<br />dist:  56\",\"speed: 18<br />dist:  76\",\"speed: 18<br />dist:  84\",\"speed: 19<br />dist:  36\",\"speed: 19<br />dist:  46\",\"speed: 19<br />dist:  68\",\"speed: 20<br />dist:  32\",\"speed: 20<br />dist:  48\",\"speed: 20<br />dist:  52\",\"speed: 20<br />dist:  56\",\"speed: 20<br />dist:  64\",\"speed: 22<br />dist:  66\",\"speed: 23<br />dist:  54\",\"speed: 24<br />dist:  70\",\"speed: 24<br />dist:  92\",\"speed: 24<br />dist:  93\",\"speed: 24<br />dist: 120\",\"speed: 25<br />dist:  85\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(255,165,0,0.5)\",\"dash\":\"dash\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[4,4.26582278481013,4.53164556962025,4.79746835443038,5.06329113924051,5.32911392405063,5.59493670886076,5.86075949367089,6.12658227848101,6.39240506329114,6.65822784810127,6.92405063291139,7.18987341772152,7.45569620253165,7.72151898734177,7.9873417721519,8.25316455696202,8.51898734177215,8.78481012658228,9.05063291139241,9.31645569620253,9.58227848101266,9.84810126582278,10.1139240506329,10.379746835443,10.6455696202532,10.9113924050633,11.1772151898734,11.4430379746835,11.7088607594937,11.9746835443038,12.2405063291139,12.506329113924,12.7721518987342,13.0379746835443,13.3037974683544,13.5696202531646,13.8354430379747,14.1012658227848,14.3670886075949,14.6329113924051,14.8987341772152,15.1645569620253,15.4303797468354,15.6962025316456,15.9620253164557,16.2278481012658,16.4936708860759,16.7594936708861,17.0253164556962,17.2911392405063,17.5569620253165,17.8227848101266,18.0886075949367,18.3544303797468,18.620253164557,18.8860759493671,19.1518987341772,19.4177215189873,19.6835443037975,19.9493670886076,20.2151898734177,20.4810126582278,20.746835443038,21.0126582278481,21.2784810126582,21.5443037974684,21.8101265822785,22.0759493670886,22.3417721518987,22.6075949367089,22.873417721519,23.1392405063291,23.4050632911392,23.6708860759494,23.9367088607595,24.2025316455696,24.4683544303797,24.7341772151899,25],\"y\":[5.89362799029165,6.36979648949433,6.86770195664437,7.38718087807426,7.9280697401165,8.49020502910359,9.07342323136803,9.67756083324231,10.3024543210589,10.9479401811504,11.6138548998492,12.3000349634879,13.0063168583989,13.7325370709147,14.4785320873679,15.2441383940909,16.038951302272,16.8704020859224,17.7318371567465,18.6165760664486,19.5179383667326,20.4292436093027,21.3438113458629,22.2594025349227,23.2050646498759,24.1811879104838,25.1802192106031,26.194605444091,27.2167935048044,28.2392302866005,29.2543626833362,30.2703236243659,31.3016802989947,32.3404850587728,33.3788237186911,34.4217988461122,35.4709130603759,36.5204738079061,37.5706971022114,38.6617753842618,39.7622911865459,40.8224050703758,41.8238137785629,42.8492416136034,43.8863825351748,44.9116221234058,45.9013459584251,46.8319396203613,47.6797886893433,48.4206693130199,48.9736315769786,49.3526418182079,49.641294401509,49.9231836916834,50.2819040535325,50.8010498518576,51.56421545146,52.6039124963778,53.7369414480156,54.9387183256612,56.2108844111871,57.5550809864658,58.9729493333699,60.4661307337718,62.036266469544,63.6849978225591,65.4139660746895,67.2248125078077,69.1188428195369,71.0918017973586,73.1428757638376,75.2733152128232,77.484370638165,79.7772925337125,82.1533313933152,84.6137377108226,87.1597619800843,89.7926546949496,92.5136663492682,95.3240474368896],\"text\":[\"speed:  4.000000<br />dist:  5.893628\",\"speed:  4.265823<br />dist:  6.369796\",\"speed:  4.531646<br />dist:  6.867702\",\"speed:  4.797468<br />dist:  7.387181\",\"speed:  5.063291<br />dist:  7.928070\",\"speed:  5.329114<br />dist:  8.490205\",\"speed:  5.594937<br />dist:  9.073423\",\"speed:  5.860759<br />dist:  9.677561\",\"speed:  6.126582<br />dist: 10.302454\",\"speed:  6.392405<br />dist: 10.947940\",\"speed:  6.658228<br />dist: 11.613855\",\"speed:  6.924051<br />dist: 12.300035\",\"speed:  7.189873<br />dist: 13.006317\",\"speed:  7.455696<br />dist: 13.732537\",\"speed:  7.721519<br />dist: 14.478532\",\"speed:  7.987342<br />dist: 15.244138\",\"speed:  8.253165<br />dist: 16.038951\",\"speed:  8.518987<br />dist: 16.870402\",\"speed:  8.784810<br />dist: 17.731837\",\"speed:  9.050633<br />dist: 18.616576\",\"speed:  9.316456<br />dist: 19.517938\",\"speed:  9.582278<br />dist: 20.429244\",\"speed:  9.848101<br />dist: 21.343811\",\"speed: 10.113924<br />dist: 22.259403\",\"speed: 10.379747<br />dist: 23.205065\",\"speed: 10.645570<br />dist: 24.181188\",\"speed: 10.911392<br />dist: 25.180219\",\"speed: 11.177215<br />dist: 26.194605\",\"speed: 11.443038<br />dist: 27.216794\",\"speed: 11.708861<br />dist: 28.239230\",\"speed: 11.974684<br />dist: 29.254363\",\"speed: 12.240506<br />dist: 30.270324\",\"speed: 12.506329<br />dist: 31.301680\",\"speed: 12.772152<br />dist: 32.340485\",\"speed: 13.037975<br />dist: 33.378824\",\"speed: 13.303797<br />dist: 34.421799\",\"speed: 13.569620<br />dist: 35.470913\",\"speed: 13.835443<br />dist: 36.520474\",\"speed: 14.101266<br />dist: 37.570697\",\"speed: 14.367089<br />dist: 38.661775\",\"speed: 14.632911<br />dist: 39.762291\",\"speed: 14.898734<br />dist: 40.822405\",\"speed: 15.164557<br />dist: 41.823814\",\"speed: 15.430380<br />dist: 42.849242\",\"speed: 15.696203<br />dist: 43.886383\",\"speed: 15.962025<br />dist: 44.911622\",\"speed: 16.227848<br />dist: 45.901346\",\"speed: 16.493671<br />dist: 46.831940\",\"speed: 16.759494<br />dist: 47.679789\",\"speed: 17.025316<br />dist: 48.420669\",\"speed: 17.291139<br />dist: 48.973632\",\"speed: 17.556962<br />dist: 49.352642\",\"speed: 17.822785<br />dist: 49.641294\",\"speed: 18.088608<br />dist: 49.923184\",\"speed: 18.354430<br />dist: 50.281904\",\"speed: 18.620253<br />dist: 50.801050\",\"speed: 18.886076<br />dist: 51.564215\",\"speed: 19.151899<br />dist: 52.603912\",\"speed: 19.417722<br />dist: 53.736941\",\"speed: 19.683544<br />dist: 54.938718\",\"speed: 19.949367<br />dist: 56.210884\",\"speed: 20.215190<br />dist: 57.555081\",\"speed: 20.481013<br />dist: 58.972949\",\"speed: 20.746835<br />dist: 60.466131\",\"speed: 21.012658<br />dist: 62.036266\",\"speed: 21.278481<br />dist: 63.684998\",\"speed: 21.544304<br />dist: 65.413966\",\"speed: 21.810127<br />dist: 67.224813\",\"speed: 22.075949<br />dist: 69.118843\",\"speed: 22.341772<br />dist: 71.091802\",\"speed: 22.607595<br />dist: 73.142876\",\"speed: 22.873418<br />dist: 75.273315\",\"speed: 23.139241<br />dist: 77.484371\",\"speed: 23.405063<br />dist: 79.777293\",\"speed: 23.670886<br />dist: 82.153331\",\"speed: 23.936709<br />dist: 84.613738\",\"speed: 24.202532<br />dist: 87.159762\",\"speed: 24.468354<br />dist: 89.792655\",\"speed: 24.734177<br />dist: 92.513666\",\"speed: 25.000000<br />dist: 95.324047\"],\"type\":\"scatter\",\"mode\":\"lines\",\"name\":\"fitted values\",\"line\":{\"width\":3.77952755905512,\"color\":\"rgba(255,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":27.8721461187215,\"r\":7.30593607305936,\"b\":41.8264840182648,\"l\":43.1050228310502},\"plot_bgcolor\":\"rgba(235,235,235,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[2.95,26.05],\"tickmode\":\"array\",\"ticktext\":[\"5\",\"10\",\"15\",\"20\",\"25\"],\"tickvals\":[5,10,15,20,25],\"categoryorder\":\"array\",\"categoryarray\":[\"5\",\"10\",\"15\",\"20\",\"25\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"speed\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-3.9,125.9],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"25\",\"50\",\"75\",\"100\",\"125\"],\"tickvals\":[0,25,50,75,100,125],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"25\",\"50\",\"75\",\"100\",\"125\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"dist\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895},\"y\":0.959399606299213},\"annotations\":[{\"text\":\"Speed_category\",\"x\":1.02,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"left\",\"yanchor\":\"bottom\",\"legendTitle\":true}],\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"5bd4426a58d5\":{\"colour\":{},\"shape\":{},\"x\":{},\"y\":{},\"type\":\"scatter\"},\"5bd431d24252\":{\"x\":{},\"y\":{}},\"5bd4fb06616\":{\"x\":{},\"y\":{}}},\"cur_data\":\"5bd4426a58d5\",\"visdat\":{\"5bd4426a58d5\":[\"function (y) \",\"x\"],\"5bd431d24252\":[\"function (y) \",\"x\"],\"5bd4fb06616\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}\r\n\r\n3D plots using plotly and python dataframe.\r\n\r\n\r\n# R code\r\n\r\nmy_plot3<-plot_ly(data = py$python_cars2,\r\n                  x=~speed,\r\n                  y=~dist,\r\n                  z=~Time) %>% \r\n  add_markers(color= ~Speed_category)\r\n\r\nmy_plot3\r\n\r\n{\"x\":{\"visdat\":{\"5bd4ec55559\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"5bd4ec55559\",\"attrs\":{\"5bd4ec55559\":{\"x\":{},\"y\":{},\"z\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter3d\",\"mode\":\"markers\",\"color\":{},\"inherit\":true}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"xaxis\":{\"title\":\"speed\"},\"yaxis\":{\"title\":\"dist\"},\"zaxis\":{\"title\":\"Time\"}},\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"showSendToCloud\":false},\"data\":[{\"x\":[20,20,20,20,20,22,23,24,24,24,24,25],\"y\":[32,48,52,56,64,66,54,70,92,93,120,85],\"z\":[1.6,2.4,2.6,2.8,3.2,3,2.34782608695652,2.91666666666667,3.83333333333333,3.875,5,3.4],\"type\":\"scatter3d\",\"mode\":\"markers\",\"name\":\"High speed\",\"marker\":{\"color\":\"rgba(102,194,165,1)\",\"line\":{\"color\":\"rgba(102,194,165,1)\"}},\"textfont\":{\"color\":\"rgba(102,194,165,1)\"},\"error_y\":{\"color\":\"rgba(102,194,165,1)\"},\"error_x\":{\"color\":\"rgba(102,194,165,1)\"},\"line\":{\"color\":\"rgba(102,194,165,1)\"},\"frame\":null},{\"x\":[4,4,7,7,8,9,10,10,10],\"y\":[2,10,4,22,16,10,18,26,34],\"z\":[0.5,2.5,0.571428571428571,3.14285714285714,2,1.11111111111111,1.8,2.6,3.4],\"type\":\"scatter3d\",\"mode\":\"markers\",\"name\":\"Low speed\",\"marker\":{\"color\":\"rgba(252,141,98,1)\",\"line\":{\"color\":\"rgba(252,141,98,1)\"}},\"textfont\":{\"color\":\"rgba(252,141,98,1)\"},\"error_y\":{\"color\":\"rgba(252,141,98,1)\"},\"error_x\":{\"color\":\"rgba(252,141,98,1)\"},\"line\":{\"color\":\"rgba(252,141,98,1)\"},\"frame\":null},{\"x\":[11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,16,16,17,17,17,18,18,18,18,19,19,19],\"y\":[17,28,14,20,24,28,26,34,34,46,26,36,60,80,20,26,54,32,40,32,40,50,42,56,76,84,36,46,68],\"z\":[1.54545454545455,2.54545454545455,1.16666666666667,1.66666666666667,2,2.33333333333333,2,2.61538461538462,2.61538461538462,3.53846153846154,1.85714285714286,2.57142857142857,4.28571428571429,5.71428571428571,1.33333333333333,1.73333333333333,3.6,2,2.5,1.88235294117647,2.35294117647059,2.94117647058824,2.33333333333333,3.11111111111111,4.22222222222222,4.66666666666667,1.89473684210526,2.42105263157895,3.57894736842105],\"type\":\"scatter3d\",\"mode\":\"markers\",\"name\":\"Medium speed\",\"marker\":{\"color\":\"rgba(141,160,203,1)\",\"line\":{\"color\":\"rgba(141,160,203,1)\"}},\"textfont\":{\"color\":\"rgba(141,160,203,1)\"},\"error_y\":{\"color\":\"rgba(141,160,203,1)\"},\"error_x\":{\"color\":\"rgba(141,160,203,1)\"},\"line\":{\"color\":\"rgba(141,160,203,1)\"},\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}\r\nTo recapitulate, we learned about Reticulate and also viewed a short demonstration about interoperability between R and Python using the Reticulate package.\r\n\r\nTo learn more about Reticulate package, visit Reticulate.\r\n\r\n\r\n\r\n",
    "preview": "post2022/2022-03-07-aboutreticulate/reticulate.JPG",
    "last_modified": "2022-03-10T01:07:23+11:00",
    "input_file": {}
  }
]
